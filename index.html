<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Meta Media Hub ‚Äî Image Suite</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>

  <div class="app-wrap">

    <!-- TOP BAR -->
    <header class="topbar">
      <div class="brand">
        <div class="logo">MM</div>
        <div>
          <h1>Meta Media Hub</h1>
          <span class="tagline">Internal image toolkit for META e-learning</span>
        </div>
      </div>

      <div class="right">
        <button id="themeBtn" class="about-btn">üé®</button>
        <button class="about-btn">i</button>
        <span id="statusText" class="status">Locked</span>
      </div>
    </header>

    <!-- THEME MODAL -->
    <div id="themeModal" class="modal">
      <div class="modal-panel theme-panel">
        <div class="theme-header">
          <h3>Choose Theme</h3>
          <button id="closeTheme" class="close-btn">‚úï</button>
        </div>
        <div class="theme-grid">
          <div class="theme-card" data-theme="flaming-orange"><div class="swatch flaming"></div><span>Flaming</span></div>
          <div class="theme-card" data-theme="dark-glass"><div class="swatch dark"></div><span>Dark</span></div>
          <div class="theme-card" data-theme="cyber-tech"><div class="swatch cyber"></div><span>Cyber</span></div>
          <div class="theme-card" data-theme="retro-beige"><div class="swatch retro"></div><span>Retro</span></div>
        </div>
      </div>
    </div>

    <!-- PASSWORD MODAL -->
    <div id="pwModal" class="modal" style="display:flex">
      <div class="modal-panel pw-panel">
        <h2>Enter Password</h2>
        <input id="pwInput" class="input" type="password" />
        <button id="pwBtn" class="btn primary full">Unlock</button>
        <p id="pwMsg" class="error"></p>
      </div>
    </div>

    <!-- HOME -->
    <section id="home" class="home-section" style="display:none">
      <div class="tool-card" id="btnImage">
        <div class="icon">üñºÔ∏è</div><h3>Image Tools</h3>
      </div>
      <div class="tool-card" id="btnEnhancer">
        <div class="icon">‚ú®</div><h3>AI Image Enhancer</h3>
      </div>
    </section>

    <!-- IMAGE TOOLS -->
    <section id="imageSection" class="section" style="display:none">
      <div class="section-header">
        <h2>Image Tools</h2>
        <button id="backHomeFromImage" class="back-btn">‚Üê Home</button>
      </div>

      <div class="panel">
        <div id="dropImage" class="dropzone">Click or drop images</div>
        <input id="imageInput" type="file" accept="image/*" multiple>

        <!-- ‚úÖ FIXED SMART BANNER -->
        <div id="smartBanner" style="display:none; margin-bottom:10px;">
          <span id="bannerIcon">‚ö™</span>
          <span id="bannerText">Scanning...</span>
        </div>

        <div id="imageFileList" class="file-list">No files uploaded.</div>

        <div class="two-input">
          <input id="imgWidth" class="input" type="number" placeholder="Width">
          <input id="imgHeight" class="input" type="number" placeholder="Height">
        </div>

        <input id="imgQuality" type="range" min="60" max="100" value="90">
        <span id="imgQualityVal">90%</span>

        <div id="imgAiToggle" class="ai-switch">
          <div class="track"><div class="ball"></div></div>
        </div>

        <div class="btn-row">
          <button id="imgPreviewBtn" class="btn ghost">Preview First</button>
          <button id="focusBtn" class="btn ghost">Manual Focus</button>
          <button id="imgProcessBtn" class="btn primary">Process & ZIP</button>
        </div>

        <div class="progress"><div id="imgProgress" class="bar"></div></div>
        <p id="imgStatus">Ready.</p>
      </div>
    </section>

    <!-- ENHANCER -->
    <section id="enhancerSection" class="section" style="display:none">
      <div class="section-header">
        <h2>AI Enhancer</h2>
        <button id="backHomeFromEnhancer" class="back-btn">‚Üê Home</button>
      </div>

      <div id="dropEnhance" class="dropzone">Drop single image</div>
      <input id="enhanceInput" type="file" accept="image/*">

      <input type="checkbox" id="enhUpscale2x">2x
      <input type="checkbox" id="enhUpscale4x">4x
      <input type="checkbox" id="enhFaceEnhance">Faces
      <input type="checkbox" id="enhDenoise">Denoise
      <input type="checkbox" id="enhOCR">OCR
      <input type="checkbox" id="enhHDR">HDR
      <input type="checkbox" id="enhHide">Privacy Blur

      <input id="enhQuality" type="range" min="70" max="100" value="92">
      <span id="enhQualityVal">92%</span>

      <button id="enhPreviewBtn" class="btn ghost">Preview</button>
      <button id="enhRunBtn" class="btn primary">Enhance & Download</button>

      <div class="preview-area">
        <img id="beforeImg">
        <img id="afterImg">
      </div>

      <p id="enhStatus">Waiting</p>
    </section>

  </div>

  <!-- ‚úÖ PREVIEW MODAL -->
  <div id="imgPreviewModal" class="modal">
    <div class="modal-panel preview-modal-panel">
      <button id="closeImgPreview" class="close-btn">‚úï</button>
      <div class="preview-compare">
        <div class="preview-box"><img id="previewBeforeImg"></div>
        <div class="preview-box"><img id="previewAfterImg"></div>
      </div>
    </div>
  </div>

  <script src="script_v.js"></script>
</body>
</html>
